{
    "_comment": "DO NOT EDIT: FILE GENERATED AUTOMATICALLY BY PTERODACTYL PANEL - PTERODACTYL.IO",
    "meta": {
        "version": "PTDL_v1",
        "update_url": null
    },
    "exported_at": "2022-05-01T05:19:48+02:00",
    "name": "Zandronum",
    "author": "sup@libtar.de",
    "description": "Zandronum is a multiplayer oriented port, based off Skulltag, for Doom and Doom II by id Software.\r\n\r\nThis egg uses the Freedoom WAD by default.",
    "features": null,
    "images": [
        "ghcr.io\/parkervcp\/yolks:debian"
    ],
    "file_denylist": [],
    "startup": ".\/zandronum-server -port {{SERVER_PORT}} -config \/home\/container\/zandronum.ini +set dmflags {{DMFLAGS}} +set dmflags2 {{DMFLAGS2}} +set zadmflags {{ZADMFLAGS}} +set compatflags {{COMPATFLAGS}} +set compatflags2 {{COMPATFLAGS2}} +set zacompatflags {{ZACOMPATFLAGS}} -iwad {{IWAD}} -file {{PWADS}} -host {{MAX_PLAYERS}} +map {{MAP}} -skill {{SKILL}}  -netmode 1",
    "config": {
        "files": "{}",
        "startup": "{\r\n    \"done\": \"UDP Initialized.\"\r\n}",
        "logs": "{}",
        "stop": "^c"
    },
    "scripts": {
        "installation": {
            "script": "#!\/bin\/bash\r\nmkdir -p \/mnt\/server\r\ncd \/mnt\/server\r\n\r\necho \"Fetching latest version number of Zandronum\"\r\nversion=\"$(wget -q -O - http:\/\/zandronum.com\/download |\r\nsed -n 's\/.*The latest version is <strong>\\(.*\\)<\\\/strong>.*\/\\1\/p')\"\r\n\r\nz=\"zandronum\"$version\"-linux-x86_64.tar.bz2\"\r\n\r\necho \"Downloading release $version of Zandronum.\"\r\necho \"Executing wget -nc http:\/\/zandronum.com\/downloads\/$z\"\r\nwget -nc http:\/\/zandronum.com\/downloads\/\"$z\"\r\necho \"Untar Zandronum\"\r\necho \"Executing tar -xjvf $z\"\r\ntar -xjvf \"$z\"\r\n\r\necho \"Remove useless files\"\r\nrm \"$z\"\r\nrm zandronum # This is the client, we don't need that.\r\n\r\necho \"Making zandronum-server executable\"\r\nchmod +x zandronum-server\r\n\r\n# Download latest freedoom for the default iwad\r\nfreedoom=$(curl -s https:\/\/api.github.com\/repos\/freedoom\/freedoom\/releases\/latest | jq .assets | jq -r .[].browser_download_url | grep -m1 -i freedoom-.*.zip)\r\n\r\necho \"$freedoom\"\r\ncurl -L -o freedoom.zip $freedoom\r\n\r\nunzip -j freedoom.zip '*\/*'\r\n\r\nrm *.html\r\nrm *.pdf\r\n\r\n# Echo the configuration file, without that it won't start (I don't know what the configuration files does exactly)\r\necho \"# These are the directories to automatically search for IWADs.\r\n# Each directory should be on a separate line, preceded by Path=\r\n[IWADSearch.Directories]\r\nPath=.\r\n\r\n# These are the directories to search for wads added with the -file\r\n# command line parameter, if they cannot be found with the path\r\n# as-is. Layout is the same as for IWADSearch.Directories\r\n[FileSearch.Directories]\r\nPath=.\r\n\r\n# Files to automatically execute when running the corresponding game.\r\n# Each file should be on its own line, preceded by Path=\r\n\r\n[Doom.AutoExec]\r\nPath=\/home\/container\/doom.cfg\r\n\r\n[Heretic.AutoExec]\r\nPath=\/home\/container\/heretic.cfg\r\n\r\n[Hexen.AutoExec]\r\nPath=\/home\/container\/hexen.cfg\r\n\r\n[Strife.AutoExec]\r\nPath=\/home\/container\/strife.cfg\r\n\r\n[Chex.AutoExec]\r\nPath=\/home\/container\/chex.cfg\r\n\r\n# WAD files to always load. These are loaded after the IWAD but before\r\n# any files added with -file. Place each file on its own line, preceded\r\n# by Path=\r\n[Global.Autoload]\r\n\r\n# Wad files to automatically load depending on the game and IWAD you are\r\n# playing.  You may have have files that are loaded for all similar IWADs\r\n# (the game) and files that are only loaded for particular IWADs. For example,\r\n# any files listed under Doom.Autoload will be loaded for any version of Doom,\r\n# but files listed under Doom2.Autoload will only load when you are\r\n# playing Doom 2.\r\n\r\n[Doom.Autoload]\r\n\r\n[Doom1.Autoload]\r\n\r\n[Doom2.Autoload]\r\n\r\n[TNT.Autoload]\r\n\r\n[Plutonia.Autoload]\r\n\r\n[Freedoom.Autoload]\r\n\r\n[Freedoom1.Autoload]\r\n\r\n[FreeDM.Autoload]\r\n\r\n[Heretic.Autoload]\r\n\r\n[Hexen.Autoload]\r\n\r\n[HexenDK.Autoload]\r\n\r\n[HexenDemo.Autoload]\r\n\r\n[Strife.Autoload]\r\n\r\n[Chex.Autoload]\r\n\r\n[Chex3.Autoload]\r\n\r\n[UrbanBrawl.Autoload]\r\n\r\n[Harmony.Autoload]\r\n\r\n[LastRun]\r\nVersion=210\r\nVersion-ZANDRONUM=181\r\n\r\n[GlobalSettings]\r\ngus_memsize=0\r\nmidi_dmxgus=true\r\ngus_patchdir=\r\nmidi_timiditylike=false\r\nmidi_voices=32\r\nmidi_config=timidity.cfg\r\nfluid_chorus_type=0\r\nfluid_chorus_depth=8\r\nfluid_chorus_speed=0.3\r\nfluid_chorus_level=1.2\r\nfluid_chorus_voices=3\r\nfluid_reverb_level=0.57\r\nfluid_reverb_width=0.76\r\nfluid_reverb_damping=0.23\r\nfluid_reverb_roomsize=0.61\r\nfluid_threads=1\r\nfluid_samplerate=0\r\nfluid_interp=1\r\nfluid_voices=128\r\nfluid_chorus=true\r\nfluid_reverb=true\r\nfluid_gain=0.5\r\nfluid_patchset=\r\nopl_core=0\r\nopl_numchips=2\r\ntimidity_frequency=22050\r\ntimidity_pipe=90\r\ntimidity_mastervolume=1\r\ntimidity_byteswap=false\r\ntimidity_8bit=false\r\ntimidity_stereo=true\r\ntimidity_reverb=0\r\ntimidity_chorus=0\r\ntimidity_extargs=\r\ntimidity_exe=timidity\r\nsnd_mididevice=-1\r\nspc_amp=1.875\r\nmod_autochip_scan_threshold=12\r\nmod_autochip_size_scan=500\r\nmod_autochip_size_force=100\r\nmod_autochip=false\r\nmod_interp=1\r\nmod_volramp=0\r\nmod_samplerate=0\r\nmod_dumb=true\r\nsnd_sfxvolume=1\r\nsnd_output=default\r\nsnd_buffersize=0\r\nsnd_samplerate=0\r\nsnd_musicvolume=0.5\r\nsnd_waterlp=250\r\nsnd_midipatchset=\r\nsnd_output_format=PCM-16\r\nsnd_speakermode=Auto\r\nsnd_resampler=Linear\r\nsnd_waterreverb=true\r\nsnd_hrtf=false\r\nsnd_buffercount=0\r\nsnd_driver=0\r\nopl_fullpan=true\r\nvid_contrast=1\r\nvid_brightness=0\r\nvid_tft=true\r\nm_showinputgrid=false\r\nm_show_backbutton=0\r\nm_use_mouse=1\r\nshow_messages=true\r\nmouse_sensitivity=1\r\nr_drawspectatingstring=true\r\nmap_point_coordinates=true\r\nvid_aspect=0\r\nvid_nowidescreen=false\r\nvid_refreshrate=0\r\nvid_vsync=false\r\nvid_defbits=8\r\nvid_defheight=480\r\nvid_defwidth=640\r\nGamma=1\r\nmasterhostname=master.zandronum.com\r\nsv_showwarnings=false\r\nstatfile=zdoomstat.txt\r\nsavestatistics=0\r\nsnd_flipstereo=false\r\nsnd_channels=32\r\nr_columnmethod=1\r\nr_quakeintensity=1\r\ncl_oldfreelooklimit=false\r\ncl_spectatormove=1\r\ncl_noprediction=false\r\ntelezoom=true\r\nr_fakecontrast=1\r\nchase_dist=90\r\nchase_height=-8\r\ngl_cachetime=0.6\r\ngl_cachenodes=true\r\nnomonsterinterpolation=false\r\nauthhostname=auth.zandronum.com:16666\r\npng_gamma=0\r\npng_level=5\r\nscreenshot_dir=\r\nscreenshot_type=png\r\nscreenshot_quiet=false\r\nuse_joystick=false\r\nautosavecount=4\r\ndisableautosave=0\r\nautosavenum=0\r\nsmooth_mouse=false\r\ncl_telespy=false\r\nm_side=2\r\nm_forward=1\r\nm_yaw=1\r\nm_pitch=1\r\nlookstrafe=false\r\nfreelook=true\r\ninvertmouse=false\r\ncl_run=true\r\ndemo_compress=true\r\nsave_dir=\r\nlongsavemessages=true\r\nstoresavepic=true\r\nnofilecompression=false\r\ncl_capfps=false\r\ndefaultiwad=\r\nqueryiwad=true\r\ncl_useskulltagmouse=false\r\ndemo_pure=true\r\ncon_ctrl_d=\r\nsnd_announcervolume=1\r\ncl_allowmultipleannouncersounds=true\r\ncl_alwaysplayfragsleft=false\r\nshowendoom=0\r\nbgamma=1\r\nggamma=1\r\nrgamma=1\r\nvid_asyncblit=true\r\nvid_displaybits=8\r\nmouse_capturemode=1\r\ncl_soundwhennotactive=true\r\nsdl_nokeyrepeat=false\r\nm_filter=false\r\nm_noprescale=false\r\nuse_mouse=true\r\nvid_winscale=1\r\nfullscreen=false\r\nvid_maxfps=200\r\nvid_renderer=1\r\n\r\n[GlobalSettings.Unknown]\r\n\r\n\" >> zandronum.ini\r\n\r\necho \"Install finished.\"",
            "container": "ghcr.io\/pterodactyl\/installers:alpine",
            "entrypoint": "ash"
        }
    },
    "variables": [
        {
            "name": "Max Players",
            "description": "The maximum amount of players allowed on your game server.",
            "env_variable": "MAX_PLAYERS",
            "default_value": "16",
            "user_viewable": true,
            "user_editable": false,
            "rules": "nullable|integer|max:128"
        },
        {
            "name": "IWAD",
            "description": "An IWAD is the main resource file for a Doom-engine game, containing all the game's original sounds, levels, and graphics.",
            "env_variable": "IWAD",
            "default_value": "freedoom1.wad",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|string|max:255"
        },
        {
            "name": "PWADS",
            "description": "If you wish to use multiple PWAD you can do so by separating them with spaces.\r\n\r\nA PWAD is a WAD containing lumps of data, often used as addons. They replace in-game assets.",
            "env_variable": "PWADS",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string|max:255"
        },
        {
            "name": "Skill",
            "description": "Set the difficulty of the game.",
            "env_variable": "SKILL",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string|between:0,15"
        },
        {
            "name": "map",
            "description": "The map the server should start with.",
            "env_variable": "MAP",
            "default_value": "e1m1",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string|max:255"
        },
        {
            "name": "dmflags",
            "description": "Gameplay flags.",
            "env_variable": "DMFLAGS",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string|max:255"
        },
        {
            "name": "dmflags2",
            "description": "Gameplay flags.",
            "env_variable": "DMFLAGS2",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string|max:255"
        },
        {
            "name": "zadmflags",
            "description": "Zandronum specific gameplay flags.",
            "env_variable": "ZADMFLAGS",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string|max:255"
        },
        {
            "name": "compatflags",
            "description": "Compatibility flags.",
            "env_variable": "COMPATFLAGS",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string|max:255"
        },
        {
            "name": "compatflags2",
            "description": "Compatibility flags.",
            "env_variable": "COMPATFLAGS2",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string|max:255"
        },
        {
            "name": "zacompatflags",
            "description": "Zandronum specific compatibility flags.",
            "env_variable": "ZACOMPATFLAGS",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "nullable|string|max:255"
        }
    ]
}
